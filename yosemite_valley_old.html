<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Explore John Muir's Yosemite: Yosemite Valley</title>
<!--CSS-->
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/font-awesome-4.0.3/css/font-awesome.min.css" >
<!--JavaScript-->
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/slideBuilder.js"></script>
<script src="js/popcorn-complete.js"></script>
<script src="js/popcorn.player.js"></script>
<script src="js/popcorn._MediaElementProto.js"></script>
<script src="js/popcorn.HTMLNullVideoElement.js"></script>
<script>

// create global variable "pop"
var pop;

audioLoader({
    // Audio embeds and hidden elements
    track1: "audio/yosemite_valley/track1",
    track2: "audio/yosemite_valley/track2",
    track3: "audio/yosemite_valley/track3",
    track4: "audio/yosemite_valley/track4",
    track5: "audio/yosemite_valley/track5"
}, function() {
    // After all the audio and DOM has loaded

    // Hide the loading indicator
    $("#loading").addClass("fadeOut");

    // Show the next/begin link
    $("#next").removeClass("fadeOut");

	// mute all audio, to start with
	var $allAudioVideo = $("audio, video");
	$allAudioVideo.prop("volume", 0);

	// create popcorn timeline (independent of media elements)
	Popcorn.player( "baseplayer" );
	// assign Popcorn timeline to global variable "pop"
	pop = Popcorn.smart("#base", "#t=,100");

	/* show timer
	pop.on( "timeupdate", function() {
    	document.getElementById( "foo" ).innerHTML = this.currentTime();
	}); */

	// timeline navigation buttons
	$("#next").click(function() {
		pop.play();
		return false;
	});
	$("#previous").click(function() {
		var currentTime = pop.currentTime();
		pop.play(currentTime - 7);
		return false;
	});

	// Using Popcorn timeline, cue slides

	// Slide 1
	slideBuilder(1, function onStart() {
		audioManager($("#track1, #track2"));
		// start playing all audio and video
		$("audio, video").trigger("play");
		// get rid of title page stuff
		$("#next").removeClass("beginPosition fadeOut").addClass("nextPosition");
		$("#begin").addClass("fadeOut");
		$("#titleBG").removeClass("transparent").addClass("fadeOut");
		$("#titleText").addClass("fadeOut");
		$("#buttonsNav").removeClass("fadeOut");
	});
	// Slide 2
	slideBuilder(2, function onStart() {
		audioManager($("#track1, #track2, #track3, #merced-video2"), 1, 0.5);
	});
	// Slide 3
	slideBuilder(3, function onStart() {
		audioManager($("#track1, #track2, #track3, #merced-video2"), 1, 1);
	});
	// Slide 4
	slideBuilder(4, function onStart() {
		audioManager($("#track1, #track3, #track4"));
	});
	// Slide 5
	slideBuilder(5, function onStart() {
		audioManager($("#track1, #track3, #track4"));
	});
	// Slide 6
	slideBuilder(6, function onStart() {
		audioManager($("#track1, #track3, #track4"));
	});
	// Slide 7
	slideBuilder(7, function onStart() {
		audioManager($("#track4, #track5"));
	});
	// Slide 8
	slideBuilder(8, function onStart() {
		audioManager($("#track4, #track5"));
	});
  
    $("#next").click();
});
</script>
<body>

<div id="base"></div><!--base div for Popcorn timeline-->
<div id="foo"></div><!--timer-->

<!--Header and navigation-->
<div id="header">
	<div id="titleNav">
		Explore John Muir's Yosemite - <a href="map_yosemite.html">Maps</a> - <a href="index.html">Introduction</a> - <a href="about.html">About</a>
	</div>
	<span id="buttonsNav" class="fadeOut">
		<span id="jumpSlide1" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide2" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide3" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide4" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide5" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide6" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide7" class="button"><a href="#"><i class="fa fa-circle"></i></a></span>
		<span id="jumpSlide8" class="button"><a href="#"><i class="fa fa-info-circle"></i></a></span>
	</span>
</div>
<div id="previous" class="button fadeOut"><a href="#"><i class="fa fa-chevron-left fa-3x"></i></a></div>

<div id="next" class="button beginPosition fadeOut"><a href="#"><span id="begin">Explore </span><i class="fa fa-chevron-right fa-3x"></i></a></div>

<div id="loading" class="button beginPosition"><span id="loadingText">Loading... </span></div>

<!--Title (Splash)-->
<div id="titleBG" class="fullscreen transparent">
	<img src="img/yosemite_valley/tunnel_view.jpg" />
</div>
<div id="titleText">
	<h1>Yosemite Valley</h1>
</div>

<!--Slide 1-->
<div id="slide1" class="slide">
	<div class="fullscreen fadeOut">
		<img src="img/yosemite_valley/tunnel_view.jpg" />
	</div>
	<div class="boxWrap topLeft fadeOut">
		<div class="boxText">
			"I came at length to the brow of that massive cliff that stands between Indian Ca√±on and Yosemite Falls, and here the far-famed valley came suddenly into view throughout almost its whole extent.
		</div>
	</div>
	<div class="boxWrap bottomRight fadeOut">
		<div class="boxText">
			The noble walls--<span class="highlight">sculptured into endless variety of domes and gables, spires and battlements and plain mural precipices</span>--all a-tremble with the thunder tones of the falling water."
		</div>
	</div>
</div>

<!--Slide 2-->
<div id="slide2" class="slide">
	<div class="fullscreen fadeOut">
		<video id="merced-video1" loop class="video">
			<source src="video/yosemite_valley/Merced.mp4" type="video/mp4">
			<source src="video/yosemite_valley/Merced.webm" type="video/webm">
		</video>
	</div>
	<div class="boxWrap topLeft fadeOut">
		<div class="boxText">
			"The level bottom seemed to be dressed like a garden, sunny meadows here and there, and groves of pine and oak..."
		</div>
	</div>
</div>

<div id="slide3" class="slide">
	<div class="fullscreen fadeOut">
		<img src="img/yosemite_valley/tree.jpg" />
	</div>
</div>

<div id="slide4" class="slide">
	<div class="fullscreen fadeOut">
		<video id="merced-video2" loop class="video">
			<source src="video/yosemite_valley/Merced_Close.mp4" type="video/mp4">
			<source src="video/yosemite_valley/Merced_Close.webm" type="video/webm">
		</video>
	</div>
	<div class="boxWrap bottomRight fadeOut">
		<div class="boxText">
			<span class="highlight">"...the river of Mercy sweeping in majesty through the midst of them and flashing back the sunbeams."</span>
		</div>
	</div>
</div>


<div id="slide5" class="slide">
	<div class="fullscreen fadeOut">
		<img src="img/yosemite_valley/halfdome.jpg" />
	</div>
	<div class="boxWrap topLeft fadeOut">
		<div class="boxText">
			<span class="highlight">"The great Tissiack, or Half-Dome,</span> rising at the upper end of the valley to a height of nearly a mile, is nobly proportioned and life-like, the most impressive of all the rocks, holding the eye in devout admiration, calling it back again and again from falls or meadows, or even the mountains beyond."
		</div>
	</div>
</div>

<div id="slide6" class="slide">
	<div class="fullscreen fadeOut">
		<img src="img/yosemite_valley/halfdome_close.jpg" />
	</div>
</div>

<div id="slide7" class="slide">
	<div class="fullscreen fadeOut">
		<img src="img/yosemite_valley/granite.jpg" />
	</div>
	<div class="boxWrap topLeft fadeOut">
		<div class="boxText">
			"Marvelous cliffs, <span class="highlight">marvelous in sheer dizzy depth and sculpture.</span> Thousands of years have they stood in the sky exposed to rain, snow, frost, earthquake and avalanche, yet they still wear the bloom of youth."</span>
			<br /><a href="http://www.sierraclub.org/john_muir_exhibit/writings/my_first_summer_in_the_sierra/chapter_5.aspx" target="_blank">Source: <em>My First Summer in the Sierra</em>, Chapter 5. <i class="fa fa-external-link"></i></a>
		</div>
	</div>
</div>

<div id="slide8" class="slide">
	<div class="fullscreen transparent fadeOut">
		<img src="img/yosemite_valley/valley.jpg" />
	</div>
	<div class="columns">
		<div class="columnLeft fadeOut">
			<div class="endNav">
				<i class="fa fa-arrow-left"></i> Go west to the <a href="range_of_light.html">Range of Light</a>
				<br /><i class="fa fa-arrow-right"></i> Go east to <a href="bridalveil.html">Bridalveil Fall</a>
				<br /><i class="fa fa-compass"></i> View the <a href="map_yosemite.html">map of Yosemite National Park</a>
				<br /><i class="fa fa-home"></i> Return to the <a href="index.html">Introduction</a>
			</div>
		</div>
		<div class="columnRight fadeOut">
		</div>
	</div>
</div>

</body>
</html>
